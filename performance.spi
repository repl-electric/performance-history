load_support('piezoelectric_resonator'); use_bpm 127; alive perc: 0, pitch: 0, kick: 0
#init true && start_init

def ping(n, *args)
  puts args
  if n
    if args && args[0].is_a?(Numeric)
      velocity = args[0]
      args = args[1..-1]
    else
      velocity = 10
    end
    puts args
    args_h = resolve_synth_opts_hash_or_array(args)
    puts args_h
    midi n, velocity *(args << {port: :iac_bus_1} << {channel: 1})
  end
end

ping :A3, 10
